import streamlit as st
from PIL import Image
import pytesseract as pt
from pdf2image import convert_from_bytes

st.set_page_config(page_title= "OCR STUFF",layout="centered") # sets the config of page can add sidebar later if wanted
st.title("OCR Project")

uploaded_file = st.file_uploader("Upload an image or file",type = ['png','jpeg','jpg','pdf'])


if uploaded_file:
    if uploaded_file.type == "application/pdf":
        pages = convert_from_bytes(uploaded_file.read()) # converts pdf to list of images
        text = ""
        for page in pages:
            text += pt.image_to_string(page) # does the ocr stuff 
    else:
        image = Image.open(uploaded_file)
        st.image(image, caption="Uploaded Image", use_column_width=True)
        text = pt.image_to_string(image)

    st.subheader("Extracted Text")
    st.text_area("OCR Output", text, height=300)
